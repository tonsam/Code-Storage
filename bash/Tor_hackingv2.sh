#!/bin/bash
CURDIR=`pwd`
if [ -z "$(pgrep tor)" ]
  then
  	echo "Tor is not running..."
  	exit 0
  else
     echo "Tor is running normally."
fi
echo -e '\e[0m                                      \e[0;1;30;40m8\e[0m           \e[0m'
echo -e '\e[0m                                   \e[0;5;33;40m88\e[0m             \e[0m'
echo -e '\e[0m                                \e[0;5;30;40mX\e[0;1;30;43m%8\e[0;1;30;40m8\e[0m   \e[0;5;33;40m8\e[0;1;30;43mS\e[0;5;33;40m8\e[0;1;30;40m@\e[0m       \e[0m'
echo -e '\e[0m                           \e[0;5;30;40mX8\e[0m \e[0;5;33;40m8\e[0;1;30;43mS\e[0;1;33;43m%\e[0;5;33;40m8\e[0;32;40m@\e[0;5;33;40m8\e[0;1;30;43mS\e[0;5;33;43m@\e[0;1;30;43mXS\e[0m          \e[0m'
echo -e '\e[0m                          \e[0;5;33;40m88\e[0;32;40m@\e[0;1;30;43m8\e[0;5;33;43mX\e[0;1;30;43m8\e[0;5;33;40mS\e[0;1;30;43m@\e[0;5;33;43m%\e[0;1;33;43m;\e[0;1;30;43m8\e[0;5;32;40m8\e[0m            \e[0m'
echo -e '\e[0m                         \e[0;5;33;40m8\e[0;1;30;43m;8\e[0;5;33;43m%\e[0;1;33;43m%\e[0;1;30;43m8\e[0;5;33;43mt\e[0;1;33;43m:\e[0;5;33;43m.\e[0;1;30;43m8\e[0;1;30;42m8\e[0m              \e[0m'
echo -e '\e[0m                        \e[0;5;33;40m8\e[0;1;33;43mt\e[0;5;33;43m%\e[0;1;33;43m;\e[0;5;33;43m;\e[0;1;33;43m.\e[0;5;33;43m \e[0;1;32;43m8\e[0;1;30;43m8\e[0;1;30;42m8\e[0m                \e[0m'
echo -e '\e[0m                       \e[0;32;40mt\e[0;1;30;43m8\e[0;5;33;43mS\e[0;1;32;43m8\e[0;1;33;43mt\e[0;1;32;43m8\e[0;5;33;43mt\e[0;5;33;40m%\e[0;5;32;40m@\e[0m                  \e[0m'
echo -e '\e[0m                       \e[0;5;33;40m8\e[0;1;30;43m:t\e[0;1;33;43m;;\e[0;1;30;43m8\e[0;5;32;40m@\e[0m                    \e[0m'
echo -e '\e[0m                  \e[0;34;40m \e[0;31;40m:\e[0;5;33;40m.%\e[0;1;30;40mX\e[0;1;30;43mS\e[0;32;43mt\e[0;1;30;43m;%8\e[0m                      \e[0m'
echo -e '\e[0m                   \e[0;34;40m:\e[0;5;30;40mX\e[0;1;37;47m8\e[0;5;37;47m \e[0;1;33;47m@\e[0;33;47m@\e[0;1;30;43m8\e[0;5;33;40m:\e[0;5;32;40m8\e[0;31;40m:\e[0;32;40mt\e[0m                    \e[0m'
echo -e '\e[0m                    \e[0;1;30;40mX\e[0;1;30;43m8\e[0;5;37;47m  \e[0;1;33;47m@\e[0;1;30;47m8\e[0;5;37;47m.\e[0;5;33;40m:\e[0;32;40mt\e[0;1;30;40m8\e[0m                    \e[0m'
echo -e '\e[0m                   \e[0;34;40m;\e[0;1;30;40m8\e[0;5;33;40m;\e[0;5;37;47m  \e[0;1;33;47m@\e[0;1;37;47mt\e[0;1;33;47mX\e[0;1;37;47mS\e[0;31;40m%\e[0;32;40m:\e[0;31;40m.\e[0m                   \e[0m'
echo -e '\e[0m                  \e[0;1;30;40mX@\e[0;5;33;40mt\e[0;5;37;47m:\e[0;5;37;43m.\e[0;5;37;47m.\e[0;1;33;47mX\e[0;5;37;47m:\e[0;5;33;40m8\e[0;1;37;47m:\e[0;1;30;47mt\e[0;5;30;40m8\e[0;31;40m. \e[0m                  \e[0m'
echo -e '\e[0m              \e[0;1;30;40mSXS8\e[0;5;37;40m8\e[0;1;37;47m8\e[0;5;37;47m .\e[0;1;37;47m8\e[0;5;37;47m;\e[0;1;33;47m8\e[0;1;37;47m8\e[0;1;33;47m@\e[0;5;33;40mt\e[0;1;30;47mS.\e[0;5;37;40m8\e[0;5;35;40m8\e[0;32;40mt\e[0;31;40m:\e[0;34;40m.\e[0m               \e[0m'
echo -e '\e[0m           \e[0;1;30;40mXS@\e[0;5;33;40m;\e[0;1;30;47m@\e[0;1;37;47m8\e[0;5;37;47m ..\e[0;5;37;43m:\e[0;5;37;47mt\e[0;37;43m@\e[0;5;37;47m \e[0;1;33;47m8\e[0;1;37;47m;\e[0;5;37;47m:S\e[0;5;33;40mX\e[0;5;35;40m8\e[0;35;47m8\e[0;1;30;47m%\e[0;35;47m8\e[0;5;35;40m S\e[0;5;34;40mX\e[0;31;40m:\e[0;34;40m  \e[0m           \e[0m'
echo -e '\e[0m        \e[0;1;30;40mXX\e[0;31;40mt\e[0;5;33;40m \e[0;1;37;47m;\e[0;5;37;47m;:..\e[0;5;37;43m:\e[0;5;37;47m..%\e[0;1;30;43m8\e[0;5;37;47m :\e[0;1;33;47m8\e[0;33;47m8\e[0;5;37;47m:\e[0;5;1;37;43m8\e[0;5;37;47m;\e[0;33;47mX\e[0;5;35;40m8\e[0;1;30;45m8\e[0;37;45m88\e[0;1;30;45m8\e[0;37;45m8\e[0;1;30;45m8\e[0;5;35;40mt\e[0;5;34;40mX\e[0;31;40m:\e[0;34;40m.\e[0;31;40m \e[0m        \e[0m'
echo -e '\e[0m      \e[0;1;30;40m@\e[0;31;40m;\e[0;5;36;40m;\e[0;1;30;47m:\e[0;5;37;47m; ...\e[0;5;37;43m.\e[0;5;37;47m ;\e[0;1;33;47m%\e[0;33;47m@\e[0;1;30;47m \e[0;5;37;47m .\e[0;5;1;33;47m8\e[0;1;37;47mS\e[0;5;37;47m:\e[0;1;30;43m8\e[0;5;37;47m%.:\e[0;1;33;47m@\e[0;5;30;40m8\e[0;1;30;45m88\e[0;35;47m8\e[0;1;30;45m8\e[0;37;45m8\e[0;1;30;45m888\e[0;5;35;40m8\e[0;34;40m8\e[0;31;40m:\e[0;32;40m \e[0m      \e[0m'
echo -e '\e[0m    \e[0;1;30;40m8\e[0;31;40m;\e[0;5;37;40mS\e[0;5;37;47m8....\e[0;5;1;37;43m8\e[0;5;37;47m.\e[0;1;37;47m8\e[0;1;30;47m.t.\e[0;5;37;47mS .\e[0;5;1;37;43m8\e[0;5;37;47m:;\e[0;1;33;47m8\e[0;5;37;47m%.\e[0;1;30;43m8\e[0;1;33;47mS\e[0;5;37;47m ;\e[0;1;30;47mS\e[0;5;35;40m8\e[0;1;30;45m8\e[0;1;34;45m8\e[0;1;30;45m8\e[0;1;34;45m8\e[0;1;30;45m88\e[0;1;34;45m8\e[0;1;30;45m888\e[0;34;40m8\e[0;31;40m:\e[0;32;40m.\e[0m    \e[0m'
echo -e '\e[0m  \e[0;1;30;40mXX\e[0;5;30;40m@\e[0;5;37;47m8  .. \e[0;1;37;47m8\e[0;33;47m@\e[0;1;30;47mt\e[0;1;33;47mS\e[0;5;37;47m;......\e[0;1;33;47m@\e[0;5;37;47mt\e[0;1;33;47mSX\e[0;5;37;47m. \e[0;33;47m8\e[0;1;33;47m8\e[0;5;37;47mt:\e[0;32;40mS\e[0;1;30;45m8888\e[0;1;34;45m8\e[0;37;45m8\e[0;1;30;45m88\e[0;1;34;45m8\e[0;1;30;45m88\e[0;1;30;44m8\e[0;31;40m;\e[0;34;40m.\e[0;32;40m.\e[0m  \e[0m'
echo -e '\e[0m \e[0;1;30;40mX%\e[0;5;33;40m%\e[0;5;37;47mS  . \e[0;1;33;47m@\e[0;37;43m8\e[0;1;30;47m \e[0;5;37;47m;.:...\e[0;5;1;37;43m8\e[0;5;37;47m.\e[0;5;1;33;47m8\e[0;1;37;47m@8\e[0;5;37;47m.\e[0;1;37;47mS\e[0;1;30;43m8\e[0;5;37;47m \e[0;5;1;33;47m8\e[0;5;37;47m.\e[0;33;47m8@\e[0;5;37;47m \e[0;5;37;40m8\e[0;5;34;40m@\e[0;1;30;45mX\e[0;1;34;45m8\e[0;1;30;45m88\e[0;1;34;45m8\e[0;1;30;45m8\e[0;1;34;45m8\e[0;1;30;45m8@\e[0;34;45mS\e[0;1;30;45mS\e[0;35;44m8\e[0;32;40m;\e[0;31;40m:\e[0m  \e[0m'
echo -e '\e[0m \e[0;1;30;40m8\e[0;34;40m:\e[0;5;37;47mX. ..\e[0;37;43m8\e[0;1;30;47m%\e[0;5;37;47m:.... \e[0;5;1;33;47m8\e[0;5;37;47m:\e[0;1;37;47m8\e[0;1;33;47mS\e[0;1;37;47mX\e[0;5;37;47mS..\e[0;1;33;47mS\e[0;5;37;47mS\e[0;1;30;43m8\e[0;5;37;47mX::\e[0;1;30;43mX\e[0;1;37;47m8\e[0;1;33;47mX\e[0;31;40m.\e[0;1;30;45m8\e[0;34;45mSXS\e[0;1;30;45m8\e[0;34;45m@\e[0;1;30;45m8\e[0;34;45mX\e[0;1;34;45m8\e[0;1;30;45mX\e[0;34;45m@\e[0;1;30;45mS\e[0;1;30;44m8\e[0;31;40m::\e[0m \e[0m'
echo -e '\e[0;1;30;40mX\e[0;32;40m:\e[0;5;33;40m \e[0;5;37;47m .. \e[0;1;30;43m8\e[0;1;37;47mt\e[0;5;37;47m ... .\e[0;1;33;47m8\e[0;1;30;47m;\e[0;1;33;47mS\e[0;5;37;47m% ... \e[0;1;33;47mS\e[0;5;37;47m .\e[0;33;47m8\e[0;1;37;47m8\e[0;5;37;47m:\e[0;1;33;47m@\e[0;5;33;40m;\e[0;1;37;47m8\e[0;31;40m:\e[0;1;30;45m8\e[0;34;45m8\e[0;1;30;45m@\e[0;34;45m8@XXS\e[0;1;30;45mS\e[0;34;45m8XX@\e[0;32;40mt\e[0;34;40m:\e[0;1;30;40mS\e[0m'
echo -e '\e[0;1;30;40m@\e[0;31;40m.\e[0;5;37;40m8\e[0;5;37;47m . \e[0;1;33;47mX\e[0;5;37;40m8\e[0;5;37;47m .. .\e[0;33;47m8\e[0;1;30;43m8\e[0;1;37;47m8\e[0;5;37;47m ....\e[0;5;1;37;43m8\e[0;5;37;47m:\e[0;1;33;47mS\e[0;1;37;47m%8\e[0;5;37;47m :\e[0;1;30;43m.\e[0;5;37;47mX.\e[0;1;30;43m@\e[0;1;37;47m@\e[0;31;40m.\e[0;5;34;40mS\e[0;34;45m@8X@X@@8@@XX\e[0;1;30;40m8\e[0;31;40m.\e[0;1;30;40mX\e[0m'
echo -e '\e[0;1;30;40m%\e[0;31;40m:\e[0;5;33;40m \e[0;5;37;47m  .\e[0;1;30;47mt \e[0;5;37;47m. ..\e[0;1;30;43m8\e[0;1;37;47m%\e[0;5;37;47m   ....;\e[0;1;33;47m8\e[0;1;37;47m8\e[0;1;33;47m@\e[0;33;47m8\e[0;5;37;47m:\e[0;5;1;37;43m8\e[0;1;37;47mS\e[0;1;30;43m8\e[0;5;37;47m.\e[0;5;33;40m8\e[0;1;30;47m \e[0;31;40m:\e[0;5;35;40m8\e[0;35;44m8\e[0;34;45m@8@8888@888\e[0;1;30;40m8\e[0;31;40m \e[0;1;30;40m@\e[0m'
echo -e '\e[0m \e[0;34;40m;\e[0;1;30;40m8\e[0;5;37;47m;  t\e[0;1;30;43m%\e[0;5;37;47mS. \e[0;1;33;47m@\e[0;1;30;47mX\e[0;5;37;47m.  ..\e[0;5;1;33;47m8\e[0;5;37;47m.\e[0;5;37;43m8\e[0;5;33;40m:\e[0;5;37;47mt.\e[0;1;33;47mSS\e[0;33;47m8\e[0;5;37;47m;.\e[0;33;41m8\e[0;5;37;47m;\e[0;31;40m8\e[0;1;30;47m%\e[0;32;40m \e[0;5;30;40mX\e[0;34;45m88\e[0;35;44m8\e[0;1;30;45m:\e[0;1;30;44m8\e[0;34;45m88\e[0;1;30;45m;\e[0;1;30;44m8\e[0;34;45m88\e[0;5;30;40m8\e[0;31;40m;\e[0;1;30;40mS\e[0m \e[0m'
echo -e '\e[0m \e[0;34;40m:\e[0;31;40m:\e[0;5;33;40m8\e[0;5;37;47mt.:\e[0;1;37;47mt\e[0;1;30;43m8\e[0;5;37;47m  \e[0;1;37;47m%\e[0;1;30;43m8\e[0;5;37;47m   . :\e[0;1;37;47m8\e[0;1;30;43m8\e[0;5;37;47m ..\e[0;1;37;47mS\e[0;5;37;47m;\e[0;33;41m8\e[0;5;37;47m:\e[0;5;1;37;43m8\e[0;1;30;40m@\e[0;1;37;47m8\e[0;5;33;40m8\e[0;5;30;40mS\e[0;31;40m \e[0;5;35;40m8\e[0;30;44m8\e[0;31;45m8\e[0;30;44m8\e[0;35;44m8\e[0;30;41m8\e[0;35;44m8\e[0;34;40m8\e[0;34;45m8\e[0;31;40m8\e[0;35;44m8\e[0;31;40m8\e[0;5;30;40m8\e[0;34;40m:\e[0;1;30;40m8\e[0m \e[0m'
echo -e '\e[0m  \e[0;34;40m.\e[0;32;40m \e[0;5;30;40mS\e[0;1;37;47m8\e[0;5;37;47m  \e[0;1;37;47mS\e[0;1;30;43m8\e[0;5;37;47m:.\e[0;5;31;40mS\e[0;1;37;47m8\e[0;5;37;47m   \e[0;5;1;37;43m8\e[0;5;37;47m \e[0;1;33;47m@\e[0;1;37;47m.\e[0;5;37;47m.\e[0;5;37;43m:\e[0;5;37;47m.\e[0;1;33;47m@\e[0;5;37;47m:\e[0;31;40m%\e[0;5;37;47m \e[0;1;37;47m8\e[0;31;43m8\e[0;5;33;40mX\e[0;1;30;47m%\e[0;32;40m.\e[0;31;40m%\e[0;5;34;40mS\e[0;35;44m8\e[0;34;40m8\e[0;31;45m8\e[0;30;44m8\e[0;35;44m8\e[0;30;41m8\e[0;35;44m8\e[0;34;40m8\e[0;34;45m@\e[0;1;30;40m8\e[0;1;30;44m8\e[0;31;40m:\e[0;1;30;40m@\e[0m  \e[0m'
echo -e '\e[0m   \e[0;34;40m \e[0;31;40m.t\e[0;1;30;47mS\e[0;5;37;47m; X\e[0;5;33;40m%\e[0;1;37;47m8S\e[0;31;40m8\e[0;1;37;47m8\e[0;5;37;47m  .:\e[0;1;37;47m;\e[0;1;30;43m8\e[0;5;37;47m ..\e[0;1;33;47mS\e[0;5;37;47m:\e[0;31;40mX\e[0;5;37;47m \e[0;1;30;43m8\e[0;5;37;40m@\e[0;5;33;40m;;\e[0;32;40m;\e[0;5;35;40m8\e[0;34;40mX\e[0;30;41m8\e[0;35;44m@\e[0;34;40m@\e[0;35;41m8\e[0;30;44m8\e[0;35;44m8\e[0;31;40m8\e[0;35;44m8\e[0;31;40m8\e[0;34;40m%\e[0;31;40mX\e[0m    \e[0m'
echo -e '\e[0m     \e[0;34;40m \e[0;32;40m \e[0;31;40mt\e[0;5;33;40m.\e[0;5;37;47m. \e[0;1;30;47m:\e[0;5;33;40m.\e[0;1;37;47m8\e[0;1;30;43m;\e[0;5;33;40mt\e[0;5;37;47m:.  \e[0;5;33;40m;\e[0;1;37;47m%\e[0;5;37;47m..\e[0;1;37;47mX\e[0;1;33;47mS\e[0;5;33;40mX\e[0;5;37;47m:\e[0;5;33;40m8.\e[0;1;30;47mS\e[0;32;40m:\e[0;5;30;40m@\e[0;34;40m8\e[0;34;45m8\e[0;34;40mS\e[0;31;40m8\e[0;30;44m@\e[0;34;40m8\e[0;31;40m8\e[0;30;44m8\e[0;5;31;40m@\e[0;32;40m;\e[0;1;30;40m@8\e[0m     \e[0m'
echo -e '\e[0m        \e[0;34;40m \e[0;31;40m.\e[0;5;33;40m8\e[0;1;30;47m8\e[0;1;37;47m8\e[0;1;30;47m@8 \e[0;5;33;40m%\e[0;1;30;47mS\e[0;1;37;47m8\e[0;5;37;47m  \e[0;1;30;43m8\e[0;1;30;47mS\e[0;5;37;47m.\e[0;1;37;47mS\e[0;5;31;40mX\e[0;1;30;47m%\e[0;5;33;40mX\e[0;1;30;40m8@\e[0;32;40m:\e[0;5;30;40mX\e[0;34;40m8\e[0;30;41m8\e[0;34;40m@\e[0;31;40m8\e[0;35;44mX\e[0;30;41m8\e[0;5;34;40m8\e[0;31;40mS\e[0;1;30;40m8\e[0;34;40m%\e[0;1;30;40m@\e[0m       \e[0m'
echo -e '\e[0m           \e[0;34;40m \e[0;32;40m:t\e[0;5;31;40mS\e[0;5;30;40m8\e[0;5;33;40mt:X%\e[0;5;37;40m8\e[0;1;30;47mS\e[0;5;33;40m 8\e[0;5;31;40m8\e[0;5;32;40m8\e[0;34;40m;:\e[0;32;40m:\e[0;1;30;40m8\e[0;5;34;40mS\e[0;31;40m@\e[0;5;34;40m@\e[0;31;40mS\e[0;34;40m8\e[0;1;30;40m8@\e[0;34;40mt\e[0;31;40m%\e[0m           \e[0m'
echo -e '\e[0m                 \e[0;34;40m.\e[0;31;40m;;;%\e[0;1;30;40m@\e[0;31;40m:\e[0;34;40m.:\e[0;31;40mt\e[0;32;40mt\e[0;1;30;40m8\e[0;31;40mS\e[0;34;40mS\e[0;31;40mt\e[0;34;40m;\e[0m                 \e[0m'
echo 'Version 2: Supports copy paste urls.'
echo "1 - Proxy"
echo "2 - Port scan"
echo "3 - Web Scanner"
read -p $'\e[1;49;31mt\e[0;49;97m0\e[1;49;31mr\e[0m \e[1;49;93m#\e[0m' MAIN
if [[ $MAIN = "1" ]]; then
	echo "What onion do you wanna attack anon?"
	read -p $'\e[1;49;31mt\e[0;49;97m0\e[1;49;31mr\e[0m \e[1;49;93m#\e[0m' ONION1
	ONION2=`echo "$ONION1" | sed 's/http\?:\/\///' | sed 's:/$::'`
	echo "Now on what port?"
	read -p $'\e[1;49;31mt\e[0;49;97m0\e[1;49;31mr\e[0m \e[1;49;93m#\e[0m' PORT1
	echo "Running onion attack proxy on $ONION2 on port $PORT1"
	echo "127.0.0.1	$ONION2" >> /etc/hosts
	echo "[*] http://$ONION2:1337"
	socat TCP4-LISTEN:1337,reuseaddr,fork SOCKS4A:127.0.0.1:$ONION2:$PORT1,socksport=9050
	sed -i '$ d' /etc/hosts
fi
if [[ $MAIN = "2" ]]; then
	echo "What onion do you wanna attack anon?"
	read -p $'\e[1;49;31mt\e[0;49;97m0\e[1;49;31mr\e[0m \e[1;49;93m#\e[0m' ONION1
	ONION2=`echo "$ONION1" | sed 's~http[s]*://~~g' | sed 's:/$::'`
	echo "Enter ports, comma seperated."
	read -p $'\e[1;49;31mt\e[0;49;97m0\e[1;49;31mr\e[0m \e[1;49;93m#\e[0m' PORTS
	proxychains -q nmap -Pn -sV -v -p $PORTS $ONION2
fi
if [[ $MAIN = "3" ]]; then
	echo "Select a scanner:"
	echo ''
	echo '1 - Nikto'
	echo '2 - WPScan (Full enumeration)'
	echo '3 - GoLismero'
	echo '4 - WAScan'
	read -p $'\e[1;49;31mt\e[0;49;97m0\e[1;49;31mr\e[0m \e[1;49;93m#\e[0m' SCANNER
	echo "What onion do you wanna attack anon?"
	read -p $'\e[1;49;31mt\e[0;49;97m0\e[1;49;31mr\e[0m \e[1;49;93m#\e[0m' ONION1
	ONION2=`echo "$ONION1" | sed 's~http[s]*://~~g' | sed 's:/$::'`
	echo "Now on what port?"
	read -p $'\e[1;49;31mt\e[0;49;97m0\e[1;49;31mr\e[0m \e[1;49;93m#\e[0m' PORT1
	echo "127.0.0.1	$ONION2" >> /etc/hosts
	socat TCP4-LISTEN:1337,reuseaddr,fork SOCKS4A:127.0.0.1:$ONION2:$PORT1,socksport=9050 & sleep 3
	if [[ $SCANNER = "1" ]]; then
		nikto -h http://$ONION2:1337/
		killall socat
		sed -i '$ d' /etc/hosts
	fi
	if [[ $SCANNER = "2" ]]; then
		wpscan --url $ONION2:1337 --enumerate u,p,t,tt
		killall socat
		sed -i '$ d' /etc/hosts
	fi
	if [[ $SCANNER = "3" ]]; then
		golismero scan http://$ONION2:1337/
		killall socat
		sed -i '$ d' /etc/hosts
	fi
	if [[ $SCANNER = "4" ]]; then
		cd WAScan
		echo 'Scan mode:'
		echo '0 - Fingerprint (server,waf,cms,...)'
		echo '1 - Attacks (sql,ldap injection,...)'
		echo '2 - Audit (phpinfo,openredirect,...)'
		echo '3 - Bruteforce (dir,file,backup,...)'
		echo '4 - Disclosure (emails,password,...)'
		echo '5 - Full scan (audit,attacks,brute,...)'
		read -p $'\e[1;49;31mt\e[0;49;97m0\e[1;49;31mr\e[0m \e[1;49;93m#\e[0m' SCANMODE
		python wascan.py --url http://$ONION2:1337/ -s $SCANMODE -v
		killall socat
		cd $CIRDIR
		sed -i '$ d' /etc/hosts
	fi
fi
